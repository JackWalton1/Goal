@using StateManager

<MudCard Elevation="25" Class="d-flex pa-4 align-content-center rounded-lg">
    <MudStack>
        <MudItem Class="d-flex justify-space-between flex-grow-1">
            <MudText Typo="Typo.h6" Align="Align.Left">@title</MudText>
            <MudIcon Icon="@icon" Align="center" />
        </MudItem>
        <MudImage ObjectFit="ObjectFit.Cover" Class="rounded-lg" Src=@imageURL Width="300" Height="150" />
        <MudItem Class="d-flex justify-space-between flex-grow-1">
            <MudText Typo="Typo.subtitle1" Align="Align.Left">@location</MudText>
            <MudText Typo="Typo.subtitle1" Align="Align.Right">@date</MudText>
        </MudItem>
        <MudButton Variant=Variant.Filled Align="center" Size="Size.Large" EndIcon="@Icons.Material.Filled.ChevronRight" FullWidth="true">Learn more</MudButton>
        @if (StateManager.CurrentUser != null)
            {
            <MudButton Align="center" Variant="Variant.Filled" OnClick="updateFollow">
                @if (following)
                    {
                    <MudText>unfollow</MudText>
                    }
                    else
                    {
                    <MudText>follow</MudText>
                    }
            </MudButton>
            }
    </MudStack>
</MudCard>

@code {
            [Parameter]
            public string title { get; set; }
            [Parameter]
            public string icon { get; set; }
            [Parameter]
            public string imageURL { get; set; }
            [Parameter]
            public string location { get; set; }
            [Parameter]
            public string date { get; set; }

    public bool following = false;

        async Task updateFollow()
        {
            if (following == false)
            {
                following = true;
            }
            else
            {
                following = false;
            }



        }
    }